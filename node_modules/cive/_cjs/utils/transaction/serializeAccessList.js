"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.serializeAccessList = serializeAccessList;
const viem_1 = require("viem");
const base32AddressToHex_js_1 = require("../address/base32AddressToHex.js");
const isAddress_js_1 = require("../address/isAddress.js");
const address_js_1 = require("../errors/address.js");
function serializeAccessList(accessList) {
    if (!accessList || accessList.length === 0)
        return [];
    const serializedAccessList = [];
    for (let i = 0; i < accessList.length; i++) {
        const { address, storageKeys } = accessList[i];
        for (let j = 0; j < storageKeys.length; j++) {
            if (storageKeys[j].length - 2 !== 64) {
                throw new viem_1.InvalidStorageKeySizeError({ storageKey: storageKeys[j] });
            }
        }
        if (!(0, isAddress_js_1.isAddress)(address)) {
            throw new address_js_1.InvalidAddressError({ address });
        }
        serializedAccessList.push([(0, base32AddressToHex_js_1.base32AddressToHex)({ address }), storageKeys]);
    }
    return serializedAccessList;
}
//# sourceMappingURL=serializeAccessList.js.map