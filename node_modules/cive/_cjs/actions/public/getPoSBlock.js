"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPoSBlock = getPoSBlock;
const utils_1 = require("viem/utils");
const block_js_1 = require("../../errors/block.js");
const pos_js_1 = require("../../utils/formatters/pos.js");
async function getPoSBlock(client, { blockHash, blockNumber, blockTag = 'latest_voted', } = {}) {
    let block;
    if (blockHash) {
        block = await client.request({
            method: 'pos_getBlockByHash',
            params: [blockHash],
        });
    }
    else {
        const _blockNumber = blockNumber ? (0, utils_1.numberToHex)(blockNumber) : undefined;
        block = await client.request({
            method: 'pos_getBlockByNumber',
            params: [_blockNumber ? _blockNumber : blockTag],
        });
    }
    if (!block) {
        throw new block_js_1.BlockNotFoundError({ blockHash, blockNumber });
    }
    return (0, pos_js_1.formatPoSBlock)(block);
}
//# sourceMappingURL=getPoSBlock.js.map