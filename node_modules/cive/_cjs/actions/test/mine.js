"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mine = mine;
const epoch_js_1 = require("../../constants/epoch.js");
const getAction_js_1 = require("../../utils/getAction.js");
const generateEmptyLocalNodeBlocks_js_1 = require("./generateEmptyLocalNodeBlocks.js");
const generateLocalNodeBlock_js_1 = require("./generateLocalNodeBlock.js");
async function mine(client, parameters = {}) {
    if ('blocks' in parameters) {
        const { blocks } = parameters;
        const generateBlocks = (0, getAction_js_1.getAction)(client, generateEmptyLocalNodeBlocks_js_1.generateEmptyLocalNodeBlocks, 'generateEmptyLocalNodeBlocks');
        await generateBlocks({ numBlocks: blocks });
    }
    else {
        const { numTxs = 1, blockSizeLimit = 20480 } = parameters;
        const generateOneBlock = (0, getAction_js_1.getAction)(client, generateLocalNodeBlock_js_1.generateLocalNodeBlock, 'generateLocalNodeBlock');
        for (let i = 0; i < epoch_js_1.deferredStateEpochCount; i++) {
            await generateOneBlock({
                numTxs,
                blockSizeLimit,
            });
        }
    }
}
//# sourceMappingURL=mine.js.map