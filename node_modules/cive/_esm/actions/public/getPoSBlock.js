import { numberToHex } from 'viem/utils';
import { BlockNotFoundError } from '../../errors/block.js';
import { formatPoSBlock } from '../../utils/formatters/pos.js';
export async function getPoSBlock(client, { blockHash, blockNumber, blockTag = 'latest_voted', } = {}) {
    let block;
    if (blockHash) {
        block = await client.request({
            method: 'pos_getBlockByHash',
            params: [blockHash],
        });
    }
    else {
        const _blockNumber = blockNumber ? numberToHex(blockNumber) : undefined;
        block = await client.request({
            method: 'pos_getBlockByNumber',
            params: [_blockNumber ? _blockNumber : blockTag],
        });
    }
    if (!block) {
        throw new BlockNotFoundError({ blockHash, blockNumber });
    }
    return formatPoSBlock(block);
}
//# sourceMappingURL=getPoSBlock.js.map