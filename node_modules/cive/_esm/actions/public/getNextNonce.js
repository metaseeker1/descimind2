import { numberToHex } from 'viem/utils';
export async function getNextNonce(client, { address, epochNumber, tryTxPool = true, epochTag = 'latest_state', }) {
    const defaultFn = async () => {
        const _epochNumber = epochNumber ? numberToHex(epochNumber) : undefined;
        const nonce = await client.request({
            method: 'cfx_getNextNonce',
            params: [address, _epochNumber || epochTag],
        });
        return Number(nonce);
    };
    try {
        if (tryTxPool) {
            const nonce = await client.request({
                method: 'txpool_nextNonce',
                params: [address],
            });
            return Number(nonce);
        }
        return defaultFn();
    }
    catch {
        return defaultFn();
    }
}
//# sourceMappingURL=getNextNonce.js.map